<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CodePark 15</title>
</head>
<body>
  <h1>CODEPARK 15</h1>  
  <P>Desenvolva um programa que recebe do usuário nome completo e ano de nascimento que seja entre 1922 e 2021. A partir dessas informações, o sistema mostrará o nome do usuário e a idade que completou, ou completará, no ano atual (2022).</P>
  <P>Caso o usuário não digite um número ou apareça um inválido no campo do ano, o sistema informará o erro e continuará perguntando até que um valor correto seja preenchido.</P>
  <hr>
  <p>Digite as informações abaixo: </p>
  <label for="nome">Nome Completo: </label>
  <input type="text" id="nome" name="nome">
  <label for="ano"> | Ano de nascimento (1922-2021): </label>
  <input type="number" id="ano" name="ano">
  <input type="button" value="Cadastrar" onclick="cadastrar()">
  <div id="res"></div>
  <script>
    function cadastrar() {
      try {
        let anoAtual = 2022
        let nome = document.querySelector("#nome").value
        let ano = Number(document.querySelector("#ano").value)
        let res = document.querySelector("#res")
        let idade

        if (ano >= 1922 && ano <= 2021) {
          idade = anoAtual - ano
        } else {
          throw new Error ("Ano inválido. Digite um ano entre 1922 e 2021.")
        }

        res.innerHTML = `<hr style="color: green;">
                         <h3 style="color: green;">Cadastrado</h3>
                         <p style="color: green; font-weight: bolder;">Nome: ${nome}</p>
                         <p style="color: green; font-weight: bolder;">Idade: ${idade}</p>`
                         
      } catch (error) {
        res.innerHTML = `<hr style="color: red;">
                         <h3 style="color: red;">Não Cadastrado</h3>
                         <p style="color: red; font-weight: bolder;">${error}</p>`
      }
    }
  </script>
</body>
</html>